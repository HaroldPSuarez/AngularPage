<div class="quote-page">
  <div class="quote-header">
    <div class="container">
      <h1>Solicitar Cotizaci√≥n</h1>
      <p>Completa el formulario y nos pondremos en contacto contigo</p>
    </div>
  </div>

  <div class="quote-content">
    <div class="container">
      <!-- Formulario -->
      <mat-card *ngIf="!showSuccess" class="quote-card">
        <mat-card-content>
          <form class="quote-form">
            <!-- Servicio -->
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Servicio de Inter√©s *</mat-label>
              <mat-select [(ngModel)]="quoteData.service" name="service" required>
                <mat-option *ngFor="let service of services" [value]="service">
                  {{ service }}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <!-- Nombre -->
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Nombre Completo *</mat-label>
              <input 
                matInput 
                [(ngModel)]="quoteData.name" 
                name="name"
                placeholder="Tu nombre completo"
                required
              />
            </mat-form-field>

            <!-- Email -->
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Correo Electr√≥nico *</mat-label>
              <input 
                matInput 
                type="email"
                [(ngModel)]="quoteData.email" 
                name="email"
                placeholder="tu@email.com"
                required
              />
            </mat-form-field>

            <!-- Tel√©fono -->
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Tel√©fono *</mat-label>
              <input 
                matInput 
                type="tel"
                [(ngModel)]="quoteData.phone" 
                name="phone"
                placeholder="+57 300 123 4567"
                required
              />
            </mat-form-field>

            <!-- Modelo de Carro (Opcional) -->
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Modelo de Veh√≠culo (Opcional)</mat-label>
              <input 
                matInput 
                [(ngModel)]="quoteData.carModel" 
                name="carModel"
                placeholder="Ej: Ferrari F40 1987"
              />
            </mat-form-field>

            <!-- Mensaje -->
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Mensaje *</mat-label>
              <textarea 
                matInput 
                [(ngModel)]="quoteData.message" 
                name="message"
                rows="5"
                placeholder="Cu√©ntanos sobre tu proyecto o necesidad..."
                required
              ></textarea>
            </mat-form-field>

            <!-- Botones -->
            <div class="form-actions">
              <button 
                mat-stroked-button 
                type="button"
                (click)="backToServices()"
                class="back-btn"
              >
                Volver
              </button>
              <button 
                mat-raised-button 
                color="primary"
                type="button"
                (click)="submitQuote()"
                [disabled]="isSubmitting"
                class="submit-btn"
              >
                <mat-spinner *ngIf="isSubmitting" diameter="20"></mat-spinner>
                <span *ngIf="!isSubmitting">Enviar Cotizaci√≥n</span>
                <span *ngIf="isSubmitting">Enviando...</span>
              </button>
            </div>
          </form>
        </mat-card-content>
      </mat-card>

      <!-- Mensaje de √âxito -->
      <mat-card *ngIf="showSuccess" class="success-card">
        <mat-card-content>
          <div class="success-content">
            <div class="success-icon">‚úÖ</div>
            <h2>¬°Cotizaci√≥n Enviada!</h2>
            <p>Gracias por contactarnos. Hemos recibido tu solicitud de cotizaci√≥n.</p>
            
            <div class="quote-summary">
              <h3>Resumen de tu solicitud:</h3>
              <div class="summary-item">
                <strong>Servicio:</strong> {{ quoteData.service }}
              </div>
              <div class="summary-item">
                <strong>Nombre:</strong> {{ quoteData.name }}
              </div>
              <div class="summary-item">
                <strong>Email:</strong> {{ quoteData.email }}
              </div>
              <div class="summary-item" *ngIf="quoteData.carModel">
                <strong>Veh√≠culo:</strong> {{ quoteData.carModel }}
              </div>
            </div>

            <p class="next-steps">
              Nuestro equipo revisar√° tu solicitud y se pondr√° en contacto contigo 
              en un plazo m√°ximo de 24 horas.
            </p>

            <div class="success-actions">
              <button mat-raised-button color="primary" (click)="newQuote()">
                Nueva Cotizaci√≥n
              </button>
              <button mat-stroked-button (click)="backToServices()">
                Volver a Servicios
              </button>
            </div>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- Info Lateral -->
      <div class="quote-info">
        <mat-card class="info-card">
          <mat-card-content>
            <h3>¬øPor qu√© solicitar una cotizaci√≥n?</h3>
            <ul>
              <li>‚úì Precios personalizados para tu proyecto</li>
              <li>‚úì Asesor√≠a profesional gratuita</li>
              <li>‚úì Respuesta en menos de 24 horas</li>
              <li>‚úì Sin compromisos</li>
            </ul>
          </mat-card-content>
        </mat-card>

        <mat-card class="info-card">
          <mat-card-content>
            <h3>Informaci√≥n de Contacto</h3>
            <p><strong>üìû Tel√©fono:</strong><br>+57 1 234 5678</p>
            <p><strong>üìß Email:</strong><br>info@classiccars.com</p>
            <p><strong>üìç Ubicaci√≥n:</strong><br>Bogot√°, Colombia</p>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </div>
</div>